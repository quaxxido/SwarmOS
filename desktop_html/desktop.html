<!DOCTYPE html>
<html>
   <head>
    <link rel="stylesheet" type="text/css" href="../css/desktop.css">
    <link rel="stylesheet" href="../css/window-engine.min.css">
    
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
      <title>SwarmOS desktop!</title>
      
   </head>
   
   <body>
    <div class="windowGroup">

      <!-- WINDOW 1 -->
    
      <div id="window1" class="window small" style="display: initial;">
        <div class="purple">
          <p class="windowTitle">Testing web player</p>
        </div>
        <div class="mainWindow">
          <iframe style="position: absolute; left:-0px; top:40px;" width="600" height="260" src="https://www.youtube.com/embed/mY4DvyyepL4" title="neuro and vedal spinning together for 3 hours" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
        </div>
      </div>
    
      <!-- WINDOW 2 -->
    
      
      
    </div>
    
     <button id="button1"><img class="desktop_icon" src="https://media.discordapp.net/attachments/303944796693725185/1053021805624954910/IMG_8619.png?width=675&height=676"></button> 
    <button id="button2">2</button>
    <button  id="button3">3</button>
  <div class="dock">
    <img onclick="openWindow(1)" src="https://media.discordapp.net/attachments/303944796693725185/1053021805624954910/IMG_8619.png?width=675&height=676" class="dockicon"> 
    <img src="https://cdn.discordapp.com/attachments/1059569601144442911/1106870422559014913/how_to_hold_neurosama.png" class="dockicon"> 
    
  </div>
   </body>
   <script src="../js/window-engine.min.js"></script>
   <script>
    function openWindow(id) {
      const target = document.getElementById("window" + id);
      target.style.display = "initial";
    }
    var iframe = document.getElementsByTagName('iframe')[0];
var url = iframe.src;
var getData = function (data) {
    if (data && data.query && data.query.results && data.query.results.resources && data.query.results.resources.content && data.query.results.resources.status == 200) loadHTML(data.query.results.resources.content);
    else if (data && data.error && data.error.description) loadHTML(data.error.description);
    else loadHTML('Error: Cannot load ' + url);
};
var loadURL = function (src) {
    url = src;
    var script = document.createElement('script');
    script.src = 'http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20data.headers%20where%20url%3D%22' + encodeURIComponent(url) + '%22&format=json&diagnostics=true&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys&callback=getData';
    document.body.appendChild(script);
};
var loadHTML = function (html) {
    iframe.src = 'about:blank';
    iframe.contentWindow.document.open();
    iframe.contentWindow.document.write(html.replace(/<head>/i, '<head><base href="' + url + '"><scr' + 'ipt>document.addEventListener("click", function(e) { if(e.target && e.target.nodeName == "A") { e.preventDefault(); parent.loadURL(e.target.href); } });</scr' + 'ipt>'));
    iframe.contentWindow.document.close();
}

loadURL(iframe.src);
   </script>
</html>